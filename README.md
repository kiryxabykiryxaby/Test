
Проект представляет собой систему автоматизации браузерных действий с акцентом на выполнение сложных сценариев и обход современных методов обнаружения автоматизированных скриптов. Мы используем Puppeteer для управления браузером Chromium и реализуем специализированные модули, позволяющие эффективно эмулировать поведение реальных пользователей при взаимодействии с различными сервисами Яндекса.

Автоматизация охватывает полный цикл — от прогрева профилей с естественным поведением (модуль «Фарм») до выполнения целевых кликов и переходов (модуль «Клик»). Для устойчивой работы систему дополняет собственный патчинг Chromium, который минимизирует цифровые отпечатки и скрывает признаки автоматизации.

## Автоматизация управления браузером с использованием Puppeteer   
   Основной модуль для управления браузером Chromium через Puppeteer. Скрипты реализуют навигацию, клики, заполнение форм и подробную эмуляцию пользовательского поведения.

**Модуль «Фарм» (Нагул)**](#модуль-фарм-нагул)— отвечает за создание и прогрев профилей с естественным поведением, подходящих для последующей эффективной накрутки. Реализует последовательность визитов на сайты с разными сценариями активности, тщательно рандомизируя действия для имитации реального пользователя. Также поддерживает авторизацию в Яндекс аккаунтах и взаимодействие с сервисами Яндекса для имитации полноценной пользовательской сессии.

**Модуль «Клик»** — использует уже прогретые профили для выполнения целевых действий. Главная задача — выполнение переходов из поисковой выдачи Яндекса по заданным ключевым запросам, выполнение кликов и взаимодействий на целевых сайтах в соответствии с конфигурацией проекта. Модуль контролирует количество и частоту кликов, а также имитирует поведение пользователя на сайте для повышения эффективности и скрытности.


## Антидетект через патчинг Chromium 

В рамках проекта мы патчим Chromium для маскировки признаков автоматизации и обхода систем детектирования. Мы модифицируем ключевые свойства и API браузера: скрываем navigator.webdriver, изменяем userAgent, патчим chrome.runtime. Спуфим Canvas и WebGL (включая вызовы canvas.toDataURL(), gl.getParameter(), gl.ReadPixels()), а также маскируем данные о плагинах, локали, часовых поясах, языках и ориентации экрана.

На уровне системы патчим TLS-стек, включая JA3 fingerprint, порядок и набор поддерживаемых шифров, ALPN и Client Hints. Также блокируем утечки IP через WebRTC (RTCPeerConnection).

Дополнительно патчим и маскируем такие признаки, как DOM rect fingerprint, список шрифтов, WebGPU, WebRTC SDP capabilities, performance.memory, аудио контекст и сенсоры.

###########################################

## Модуль «Фарм» (Нагул)

Создать профиль с естественным поведением, который подойдет для последующей накрутки ПФ.

### Ресурсы
- [Список запросов](https://drive.google.com/file/d/1vm1ACmR9G128n8oh2thzZZsJi8XSPFBs/view)
- [Список доменов](https://drive.google.com/file/d/1tLtb4wiyinq_MSR1X3zN4V7UwuTLbl7Q/view)

### Возможные действия бота

- **Скролл вертикальный:**  
  - Быстрый скролл с задержками на заголовках и текстовых блоках  
  - Быстрый скролл-прыжок в нижнюю часть сайта  
  - Быстрый скролл → остановка → короткий скролл  
  - Медленный скролл с чтением и паузами

- **Тапы и клики:**  
  - Обычный тап по внутренней ссылке  
  - Длинный тап по ссылке → "Открыть в новой вкладке"

- **Действия с браузером:**  
  - Кнопка «Назад»  
  - Закрытие вкладки  
  - Переключение между вкладками  
  - Pull-to-refresh (потянуть вниз)

### Поведенческие сценарии

- **Создание профилей:**  
  - Распределение: 90% ПК / 10% мобильных  
  - Скроллы и клики выбираются случайно из набора вариантов  
  - При длинном тапе возможно выполнение дополнительных действий с браузером  

- **Имитация ввода запросов:**  
  - Печать с задержками 100–300 мс  
  - Ввод с ошибками и Backspace (1 ошибка на 10–15 символов)  
  - Использование автоподсказок поисковика  
  - Паузы в середине набора, имитирующие "задумчивость"  
  - Печать целыми словами с паузами между ними

### Сессия поведения

- Количество посещений: 10–20 сайтов за сессию  
- Типы заходов:  
  - Прямые переходы по базам IPv6 доменов  
  - Переходы из поиска Яндекс  
- Исключение повторных заходов на один сайт в рамках сессии  
- Логирование: домен, время входа/выхода, тип действия  
- Время пребывания: 30 сек – 3 мин (с нормальным распределением)  
- Глубина переходов: 0 – 10 кликов внутри сайта  

### Поведение сценариев

#### Прямой заход на главную страницу

- Ожидание полной загрузки  
- Скроллинг вверх/вниз с паузами  
- Переходы по внутренним ссылкам (с исключениями технических URL)  
- Возврат на главную, повтор цикла 3–5 раз  
- Вероятность закрытия страницы и завершения сессии

#### Переходы из поиска Яндекс

- Переход на страницу поиска  
- Имитация набора запроса  
- Клик по сайту из выдачи (с учётом черного списка)  
- Навигация и взаимодействие с сайтом по сценарию прямого захода  
- Возможное завершение по закрытию страницы  

